# threadpool
## 目标
1.用于执行大量相对短暂的任务

2.当任务增加的时候能够动态的增加线程池中线程的数量值到达一个阈值

3.当任务执行完毕的时候，能够动态的销毁线程池中的线程

4.该线程池的实现本质上也是生产者与消费者模型的应用。生产者线程向任务队列添加任务，一旦队列有任务到来，如果有等待线程就唤醒来执行任务，如果没有等待线程并且线程数没有达到阈值，就创建线程来执行任务。

## 优点
1.线程是稀缺资源，使用线程池可以减少创建和销毁线程的次数，每个工作线程都可以重复使用。

2.可以根据系统的承受能力，调整线程池中工作线程的数量，防止因为消耗过多内存导致服务器崩溃

## 线程中池中线程个数的确定和任务的类型有关系
计算密集型任务，占用CPU较长时间，很少被打断，此时线程池中线程的个数=CPU个数最佳，如果线程个数超过CPU个数，而CPU个数是一定的，这意味着能够并发的数目是一定的，这是就是少量的CPU调度较多的线程，涉及到线程间的切换开销，因为会降低效率。

I/O密集型任务，当执行任务的时候，可能会被I/O中断，也就是线程会被挂起，这种情况线程个数>CPU个数是合理的，假设CPU个数为2，分配的线程个数也为2，此时两个线程都可以执行I/O任务，但是有这种情况是两个线程都阻塞在I/O，这时让出了CPU的控制权，此时如果又来了任务，但是线程个数只有2个，而都处于阻塞，也就没有办法执行，因而对于I/O密集型任务，线程个数要大于CPU个数。

